<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nepali TextEditor Pro | Advanced Nepali Converter</title>
    <link rel="stylesheet" href="../static/nepali.css" type="text/css" />
    <!-- Bootstrap CDN -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
          --primary-color: #4361ee;
          --secondary-color: #3f37c9;
          --accent-color: #4cc9f0;
          --light-bg: #f8f9fa;
          --dark-text: #212529;
          --light-text: #f8f9fa;
        }
        
        body {
          font-family: 'Poppins', sans-serif;
          background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
          min-height: 100vh;
          margin: 0;
          padding-top: 70px;
        }
        
        .navigation {
          position: fixed;
          top: 0;
          width: 100%;
          z-index: 1000;
          background-color: rgba(255, 255, 255, 0.95);
          backdrop-filter: blur(10px);
          box-shadow: 0 2px 15px rgba(0,0,0,0.1);
        }
        
        .nav-item a {
          color: var(--dark-text) !important;
          font-weight: 500;
          transition: all 0.3s ease;
          border-radius: 4px;
          padding: 8px 16px;
        }
        
        .nav-item a:hover,
        .nav-item a.active {
          color: var(--primary-color) !important;
          background-color: rgba(67, 97, 238, 0.1);
        }
        
        .container {
          padding: 0 1.5rem;
        }
        
        .unicode_wrap {
          background: white;
          border-radius: 16px;
          padding: 2rem;
          margin: 2rem auto;
          max-width: 800px;
          box-shadow: 0 10px 30px rgba(0,0,0,0.08);
        }
        
        .unicode_wrap p {
          text-align: center;
          font-size: 1.8rem;
          color: var(--secondary-color);
          margin-bottom: 1.5rem;
          font-weight: 600;
        }
        
        .textarea_unicode {
          width: 100%;
          padding: 1rem;
          border: 2px solid #ddd;
          border-radius: 8px;
          font-size: 1.1rem;
          resize: vertical;
          margin-bottom: 1rem;
          box-shadow: 0 4px 10px rgba(0,0,0,0.05);
        }
        
        .btn {
          background: var(--primary-color);
          color: white;
          border: none;
          padding: 0.75rem 1.5rem;
          border-radius: 4px;
          cursor: pointer;
          margin-right: 0.5rem;
          font-weight: 500;
          transition: all 0.3s ease;
        }
        
        .btn:hover {
          background: var(--secondary-color);
          transform: translateY(-2px);
        }
        
        .section {
          display: none;
          padding: 2rem 0;
        }
        
        .section.active {
          display: block;
        }
        
        .about-content, .contact-content {
          background: white;
          border-radius: 16px;
          padding: 2.5rem;
          margin: 2rem auto;
          max-width: 800px;
          box-shadow: 0 10px 30px rgba(0,0,0,0.08);
        }
        
        .contact-form {
          max-width: 600px;
          margin: 0 auto;
        }
        
        .contact-info {
          background: #f8f9fa;
          border-radius: 12px;
          padding: 1.5rem;
          margin-top: 2rem;
        }
        
        footer {
          text-align: center;
          padding: 2rem;
          margin-top: 3rem;
          color: var(--dark-text);
          opacity: 0.7;
        }
        
        .stats-container {
          display: flex;
          justify-content: space-around;
          margin: 1.5rem 0;
          flex-wrap: wrap;
          gap: 1rem;
        }
        
        .stat-box {
          background: white;
          padding: 1rem;
          border-radius: 8px;
          text-align: center;
          min-width: 120px;
          box-shadow: 0 4px 10px rgba(0,0,0,0.05);
        }
        
        .stat-value {
          font-size: 1.8rem;
          font-weight: bold;
          color: var(--primary-color);
        }
        
        .stat-label {
          font-size: 0.9rem;
          color: #666;
        }
        
        .preview-pane {
          background: white;
          border-radius: 8px;
          padding: 1rem;
          margin-top: 1.5rem;
          box-shadow: 0 4px 10px rgba(0,0,0,0.05);
        }
        
        .export-options {
          display: flex;
          gap: 1rem;
          margin-top: 1rem;
        }
        
        .export-btn {
          background: var(--success-color);
          color: white;
          border: none;
          padding: 0.5rem 1rem;
          border-radius: 4px;
          cursor: pointer;
          display: flex;
          align-items: center;
          gap: 0.5rem;
        }
        
        .export-btn:hover {
          background: #05b38a;
        }
        
        .history-list {
          max-height: 150px;
          overflow-y: auto;
          margin-top: 1rem;
          border: 1px solid #eee;
          border-radius: 4px;
          padding: 0.5rem;
        }
        
        .history-item {
          padding: 0.25rem 0;
          border-bottom: 1px solid #eee;
          cursor: pointer;
          display: flex;
          justify-content: space-between;
        }
        
        .history-item:last-child {
          border-bottom: none;
        }
        
        .history-item:hover {
          background: #f0f8ff;
        }
        
        .history-actions {
          display: flex;
          gap: 0.5rem;
        }
        
        .history-btn {
          background: none;
          border: none;
          color: var(--primary-color);
          cursor: pointer;
          font-size: 0.8rem;
        }
    </style>
</head>
<body>
    <!-- Navigation Bar -->
    <nav class="navigation navbar navbar-expand-lg navbar-light bg-light">
        <div class="container-fluid">
          <a class="navbar-brand fw-bold fs-4 ms-3" href="/">
            <span style="color: var(--primary-color);">Text</span><span style="color: var(--accent-color);">Editor</span><span style="color: var(--secondary-color);">Pro</span>
          </a>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
            <span class="navbar-toggler-icon"></span>
          </button>
          <div class="collapse navbar-collapse justify-content-end me-3" id="navbarNav">
            <ul class="navbar-nav">
              <li class="nav-item">
                <a class="nav-link active" href="#" onclick="showSection('converter')">Converter</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="#" onclick="showSection('about')">About</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="#" onclick="showSection('contact')">Contact</a>
              </li>
            </ul>
          </div>
        </div>
      </nav>

    <!-- Main Container -->
    <div class="container">
        <!-- Nepali Converter Section -->
        <div id="converter" class="section active">
            <div class="unicode_wrap">
                <p><i class="fas fa-language me-2"></i>Nepali Text Converter</p>
                
                <div class="stats-container">
                  <div class="stat-box">
                    <div class="stat-value" id="char-count">0</div>
                    <div class="stat-label">Characters</div>
                  </div>
                  <div class="stat-box">
                    <div class="stat-value" id="word-count">0</div>
                    <div class="stat-label">Words</div>
                  </div>
                  <div class="stat-box">
                    <div class="stat-value" id="line-count">0</div>
                    <div class="stat-label">Lines</div>
                  </div>
                </div>
                
                <form name="Form1">
                    <textarea class="textarea_unicode" id="roman" name="ascii" cols="62" rows="7" onKeyUp="javascript:convert();" placeholder="Type in roman nepali..."></textarea>
                    <button class="btn" onclick="copyUnicode(event)" type="button">
                        <i class="fas fa-copy me-2"></i>Copy
                    </button>
                    <button class="btn" type="button" onclick="clearContent()">
                        <i class="fas fa-trash me-2"></i>Clear
                    </button>
                    <textarea id="unicode_text" class="textarea_unicode" name="unicode" cols="62" rows="7" readonly></textarea>
                    <select class="btn" onChange="javascript:convert();" name="htmlEncode" style="display: none;">
                        <option value="false" selected="selected">Unicode </option>
                        <option value="true">HTML</option>
                    </select>
                    <input disabled="disabled" class="btn" onClick="javascript:translate(Form1.ascii, Form1.unicode, eval(Form1.htmlEncode.value), Form1.smartConverter_.checked);" value="Convert" name="convertNow" type="hidden">
                    <input class="btn" onClick="javascript:smartConverter(Form1.smartConverter_.checked);convert();" checked="checked" name="smartConverter_" value="ON" type="checkbox" style="display:none;">
                </form>
                
                <div class="preview-pane">
                  <h5>Export Options</h5>
                  <div class="export-options">
                    <button class="export-btn" onclick="downloadAsFile('txt')">
                      <i class="fas fa-file-alt"></i> Download TXT
                    </button>
                    <button class="export-btn" onclick="saveToHistory()">
                      <i class="fas fa-history"></i> Save to History
                    </button>
                  </div>
                  
                  <h5 class="mt-3">Edit History</h5>
                  <div class="history-list" id="history-list">
                    <!-- History items will appear here -->
                  </div>
                </div>
            </div>
        </div>

        <!-- About Section -->
        <div id="about" class="section">
            <div class="about-content">
                <h2 class="text-center mb-4" style="color: var(--secondary-color);">About TextEditor Pro</h2>
                <div class="row">
                    <div class="col-md-6">
                        <h4>Our Mission</h4>
                        <p>TextEditor Pro is dedicated to providing powerful and intuitive text formatting tools for multilingual content creation. We aim to make typography accessible and enjoyable for everyone.</p>
                        
                        <h4>Key Features</h4>
                        <ul class="list-unstyled">
                            <li><i class="fas fa-check text-success me-2"></i> Advanced font transformation</li>
                            <li><i class="fas fa-check text-success me-2"></i> Multilingual support (English & Nepali)</li>
                            <li><i class="fas fa-check text-success me-2"></i> Image text embedding</li>
                            <li><i class="fas fa-check text-success me-2"></i> User-friendly interface</li>
                            <li><i class="fas fa-check text-success me-2"></i> Real-time preview</li>
                            <li><i class="fas fa-check text-success me-2"></i> Export capabilities</li>
                            <li><i class="fas fa-check text-success me-2"></i> Edit history tracking</li>
                        </ul>
                    </div>
                    <div class="col-md-6">
                        <h4>Technology Stack</h4>
                        <p>Built with modern web technologies including:</p>
                        <ul class="list-unstyled">
                            <li><i class="fab fa-python text-info me-2"></i> Python (Django)</li>
                            <li><i class="fab fa-html5 text-warning me-2"></i> HTML5 & CSS3</li>
                            <li><i class="fab fa-js text-warning me-2"></i> JavaScript</li>
                            <li><i class="fas fa-database text-primary me-2"></i> SQLite Database</li>
                            <li><i class="fas fa-font text-secondary me-2"></i> Advanced Typography Engine</li>
                        </ul>
                        
                        <h4>Our Vision</h4>
                        <p>We envision a world where language barriers in digital content creation are eliminated, enabling seamless communication and expression in multiple languages.</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Contact Section -->
        <div id="contact" class="section">
            <div class="contact-content">
                <h2 class="text-center mb-4" style="color: var(--secondary-color);">Contact Us</h2>
                <form class="contact-form">
                    <div class="mb-3">
                        <label for="name" class="form-label">Full Name</label>
                        <input type="text" class="form-control" id="name" placeholder="Enter your name">
                    </div>
                    <div class="mb-3">
                        <label for="email" class="form-label">Email Address</label>
                        <input type="email" class="form-control" id="email" placeholder="Enter your email">
                    </div>
                    <div class="mb-3">
                        <label for="subject" class="form-label">Subject</label>
                        <input type="text" class="form-control" id="subject" placeholder="Enter subject">
                    </div>
                    <div class="mb-3">
                        <label for="message" class="form-label">Message</label>
                        <textarea class="form-control" id="message" rows="5" placeholder="Enter your message"></textarea>
                    </div>
                    <button type="submit" class="btn btn-primary w-100">Send Message</button>
                </form>
                
                <div class="contact-info mt-4">
                    <div class="row">
                        <div class="col-md-4 text-center mb-3">
                            <i class="fas fa-envelope fa-2x text-primary mb-2"></i>
                            <h6>Email</h6>
                            <p class="mb-0">support@texteditorpro.com</p>
                        </div>
                        <div class="col-md-4 text-center mb-3">
                            <i class="fas fa-phone fa-2x text-success mb-2"></i>
                            <h6>Phone</h6>
                            <p class="mb-0">0123456789</p>
                        </div>
                        <div class="col-md-4 text-center mb-3">
                            <i class="fas fa-map-marker-alt fa-2x text-danger mb-2"></i>
                            <h6>Location</h6>
                            <p class="mb-0">Kathmandu, Nepal</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <footer class="mt-5">
            <p>&copy; 2022 TextEditor Pro. All rights reserved.</p>
        </footer>
    </div>

    <!-- Bootstrap JS Bundle -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <!-- Font Awesome for icons -->
    <script src="https://kit.fontawesome.com/a076d05399.js" crossorigin="anonymous"></script>
    
    <script>
        // Initialize edit history array from localStorage
        let editHistory = JSON.parse(localStorage.getItem('nepaliHistory')) || [];
        
        // Nepali conversion logic
        var uD = new Object
        , sW = new Object
        , cR = new Object
        , iW = new Object;
        
        function translateWords(a, n) {
            "true" == sW.smartconverter_on && (a = a.replace(/\s*\./g, " .").replace(/\s*\?/g, " ?"));
            var e, r, W, h, t, o = a.split(" "), s = "";
            for (i = 0; i < o.length; i++) {
                for (o[i] = o[i].replace(/ri\^/g, "ari^"),
                "true" == sW.smartconverter_on && (hasSW(o[i]) || (iW[o[i]] ? o[i] = iW[o[i]] : 3 < o[i].length && (r = o[i].charAt(o[i].length - 1).toLowerCase(),
                W = o[i].charAt(o[i].length - 2).toLowerCase(),
                h = o[i].charAt(o[i].length - 3).toLowerCase(),
                t = o[i].charAt(o[i].length - 4).toLowerCase(),
                "a" != r && "e" != r && "u" != r || "h" != W || "c" != h ? "y" == r ? o[i] = o[i].substring(0, o[i].length - 1) + "ree" : "a" == r && "h" == W && "h" == h || "a" == r && "n" == W && "k" == h || "a" == r && "n" == W && "h" == h || "a" == r && "n" == W && "r" == h || "a" == r && "r" == W && "d" == h && "n" == t || "a" == r && "r" == W && "t" == h && "n" == t || "a" != r || "m" != W && (isVowel(W) || isVowel(t) || "y" == W || "e" == h) || (o[i] += "a") : o[i] = o[i].substring(0, o[i].length - 3) + "chh" + r,
                "i" != r || isVowel(W) || (o[i] = o[i].substring(0, o[i].length - 1) + "ee")))),
                e = o[i].split("/"),
                j = 0; j < e.length; j++)
                    0 != e[j].length && (s += getAllUnicode(e[j], n));
                s += " "
            }
            return s
        }
        
        function hasSW(a) {
            for (var i = a.length - 2; 0 <= i; i--)
                if (sW[a.substring(i)])
                    return !0;
            return !1
        }
        
        function getUnicode(a, i, n) {
            var e = ""
              , r = 0
              , W = a.split("+");
            if (i && W && 1 < W.length && "true" == sW.smartconverter_on && "2381" == W[W.length - 1] && (r = 1),
            W)
                for (k = 0; k < W.length - r; k++)
                    0 < W[k].length && !n ? e += String.fromCharCode(W[k]) : 0 < W[k].length && n && (e += "&#" + W[k] + ";");
            return e
        }
        
        function getAllUnicode(a, i) {
            var n, e = "", r = a;
            r = (r = (r = r.replace(/T/g, "^^t^^").replace(/D/g, "^^d^^").replace(/N/g, "^^n^^").replace(/SH/g, "^^sh^^").replace(/Sh/g, "^^sh^^")).toLowerCase()).replace(/\^\^t\^\^/g, "T").replace(/\^\^d\^\^/g, "D").replace(/\^\^n\^\^/g, "N").replace(/\^\^sh\^\^/g, "Sh");
            for (var W = ""; 0 < r.length; )
                (n = uD[r]) || r.length <= 1 ? (e += n ? getUnicode(n, !(0 < W.replace(/^\s+|\s+|\\$/, "").length), i) : r,
                r = W,
                W = "") : (W = r.charAt(r.length - 1) + W,
                r = r.substring(0, r.length - 1));
            return 0 == e.length ? a : e
        }
        
        function translate(a, i, n, e) {
            for (var r = a.value, W = 0, h = -1, t = new Object, o = "", s = 1, u = ""; -1 < W && h < r.length - 1; )
                -1 < (W = r.indexOf("{", h + 1)) && (-1 == (h = r.indexOf("}", W + 1)) && (h = r.length - 1),
                o = r.substring(W, h + 1),
                t[u = "$-" + s + "-$"] = o.substring(1, o.length - 1),
                r = r.replace(o, u),
                h = h - o.length + u.length,
                s++);
            var l = new Object;
            if (e) {
                for (smartConverter(!1),
                W = 0,
                h = -1,
                u = o = ""; -1 < W && h < r.length - 1; )
                    -1 < (W = r.indexOf("[", h + 1)) && (-1 == (h = r.indexOf("]", W + 1)) && (h = r.length - 1),
                    o = r.substring(W, h + 1),
                    l[u = "$-" + s + "-$"] = translateWords(o.substring(1, o.length - 1), n),
                    r = r.replace(o, u),
                    h = h - o.length + u.length,
                    s++);
                smartConverter(!0)
            }
            var c = translateWords(r, n);
            if (e)
                for (u in l)
                    c = c.replace(translateWords(u, n).replace(" ", ""), l[u].replace(/\s$/, ""));
            for (u in t)
                c = c.replace(translateWords(u, n).replace(" ", ""), t[u]);
            i.value = c
        }
        
        function isVowel(a) {
            return !!((a = a.toLowerCase()) && "a" == a || "e" == a || "i" == a || "o" == a || "u" == a)
        }
        
        function smartConverter(a) {
            if (a) {
                for (var i in sW)
                    uD[i] = sW[i];
                sW.smartconverter_on = "true"
            } else {
                for (var i in sW)
                    uD[i] && (uD[i] = null);
                sW.smartconverter_on = null
            }
        }
        
        for (var conso in iW.cha = "chha",
        iW.chu = "chhu",
        iW.nam = "naam",
        iW.ram = "raam",
        iW.lai = "laaii",
        iW.pai = "paaii",
        iW.dai = "daaii",
        iW.bhai = "bhaaii",
        iW.xa = "chha",
        iW.x = "chha",
        iW.solti = "सोल्टी",
        iW.kathmandu = "kaaThamaaDau*",
        iW.Kathmandu = "kaaThamaaDau*",
        iW.sambidhan = "sa*widhaan",
        iW.unicode = "yunicoD",
        iW.facebook = "fesabuk",
        iW.Facebook = "fesabuk",
        iW.twitter = "TwiTar",
        iW.Twitter = "TwiTar",
        iW.instragram = "i*nsTaagraam",
        iW.Instragram = "i*nsTaagraam",
        iW.youtube = "yuTyub",
        iW.YouTube = "yuTyub",
        iW.Youtube = "yuTyub",
        iW.linkedin = "li*kD/in",
        iW.Linkedin = "li*kD/in",
        iW.Google = "gugal",
        iW.online = "analaain",
        iW.Online = "analaain",
        iW.tiktok = "Tik/Tak",
        iW.Tiktok = "Tik/Tak",
        iW.TikTok = "Tik/Tak",
        iW.app = "ep",
        iW.App = "ep",
        iW.Apps = "eps",
        iW.apps = "eps",
        iW.santosh = "santoSH",
        iW.Santosh = "santoSH",
        iW.sapkota = "saapakoTaa",
        iW.Sapkota = "saapakoTaa",
        iW.baskota = "baaskoTaa",
        iW.Baskota = "baaskoTaa",
        iW.neupane = "nyaupaane ",
        iW.Neupane = "nyaupaane ",
        iW.Chetri = "क्षेत्री ",
        iW.Chhetri = "क्षेत्री ",
        iW.chetri = "क्षेत्री ",
        iW.chhetri = "क्षेत्री ",
        iW.internet = "i*TaraneT",
        iW.Internet = "i*TaraneT",
        iW.virus = "bhaairas",
        iW.Virus = "bhaairas",
        iW.coronavirus = "coronaabhaairas",
        iW.Adhikari = "adhikaari",
        iW.adhikari = "adhikaari",
        iW.namaskar = "namaskaar",
        iW.Namaskar = "namaskaar",
        iW.xe = "chhe",
        iW.xo = "chho",
        iW.xi = "chhi",
        iW.xu = "chhu",
        iW.k = "ke",
        iW.school = "skul",
        iW.college = "kalej",
        iW.student = "sTuDenT",
        iW.sir = "sar",
        iW.madam = "meDam",
        iW.School = "skul",
        iW.College = "kalej",
        iW.Student = "sTuDenT",
        iW.Sir = "sar",
        iW.Madam = "meDam",
        iW.rajniti = "raajaniti",
        iW.good = "gooD",
        iW.boy = "woii",
        iW.girl = "garl",
        iW.boyfriend = "woiifrenD",
        iW.girlfriend = "galfrenD",
        iW.friend = "frenD",
        iW.boarding = "borDing",
        iW.Good = "gooD",
        iW.boy = "woii",
        iW.Girl = "gal",
        iW.Boyfriend = "woiifrenD",
        iW.Girlfriend = "galfrenD",
        iW.Friend = "frenD",
        iW.Boarding = "borDing",
        iW.sarkari = "सरकारी",
        iW.tarkari = "तरकारी",
        iW.Chitwan = "chitaawan",
        iW.butwal = "buTawal ",
        iW.biratnagar = "biraTanagar",
        iW.narayangarh = "naraayanaGaD",
        iW.narayangadh = "naraayanaGaD",
        iW.bharatpur = "bharatapur",
        iW.chitwan = "chitaawan",
        iW.bhaktpur = "bhaktapur",
        iW.sathi = "साथी",
        iW.sathiharu = "saathiharu",
        iW.chrome = "krom",
        iW.extension = "eksaTe*shan",
        iW.iphone = "aaiphon",
        iW.samsung = "saamasunga",
        iW.Jhapa = "jhaapaa ",
        iW.jhapa = "jhaapaa ",
        iW.Butwal = "buTawal ",
        iW.Biratnagar = "biraTanagar",
        iW.Narayangarh = "naraayanaGaD",
        iW.Narayangadh = "naraayanaGaD",
        iW.Bharatpur = "bharatapur",
        iW.Bhitwan = "chitaawan",
        iW.Bhaktpur = "bhaktapur",
        iW.bata = "baaTa",
        iW.padhna = "paDhna",
        iW.baby = "bebi",
        iW.Baby = "bebi",
        iW.gharma = "gharamaa",
        iW.maya = "maayaa",
        iW.aayeko = "aaeko",
        iW.vannu = "bhannu",
        iW.vayera = "bhayar",
        iW.yeta = "etaa",
        iW.bonding = "bonDing",
        iW.age = "ej",
        iW.figure = "figar",
        iW.height = "haaiT",
        iW.Management = "myaanejamenT",
        iW.management = "myaanejamenT",
        iW.padhai = "paDhaai",
        iW.ramailo = "ramaailo",
        iW.month = "manth",
        iW.vayo = "bhayo",
        iW.vaya = "bhaya",
        iW.lagchha = "laagchha",
        iW.direct = "DirecT",
        iW.story = "sTori",
        iW.tira = "tir",
        iW.jaba = "jab",
        iW.bela = "belaa",
        iW.janu = "jaanu",
        iW.vayeko = "bhaeko",
        iW.malai = "malaai",
        iW.Malai = "malaai",
        iW.naya = "nayaa",
        iW.luga = "lugaa",
        iW.kapada = "papaDaa",
        iW.hami = "haami",
        iW.life = "laaipha",
        iW.basda = "basdaa",
        iW.mobile = "mobaail",
        iW.copy = "capi",
        iW.hamiharu = "haamiharu",
        iW.knowledge = "nalej",
        iW.khasai = "khaasai",
        iW.bani = "baani",
        iW.chhutisakeko = "chhuTisakeko",
        iW.rati = "raati",
        iW.ratiko = "raatiko",
        iW.vanera = "bhanera",
        iW.kitchen = "kichan",
        iW.lock = "lak",
        iW.vako = "bhako",
        iW.kholda = "kholdaa",
        iW.mathi = "माथी ",
        iW.vitra = "bhitra",
        iW.ghanta = "ghanTaa",
        iW.rest = "resT",
        iW.bhayena = "bhaena",
        iW.patak = "paTak",
        iW.ready = "reDi",
        iW.Hami = "haami",
        iW.style = "sTaayal",
        iW.santusta = "santusTa",
        iW.xau = "chhau",
        iW.xan = "chhan",
        iW.xas = "chhas",
        iW.parxa = "parchha",
        iW.garxa = "garchha",
        iW.hunxa = "hunchha",
        iW.hunuhunxa = "hunuhunchha",
        iW.garnuhunxa = "garnuhunchha*",
        iW.pauxa = "pauchha",
        iW.garxu = "garchhu",
        iW.aaunuhunxa = "aaunuhunchha",
        iW.januhunxa = "jaanuhunchha",
        iW.janxas = "jaanchhas",
        iW.aauxas = "aauchhas",
        iW.keta = "keTaa",
        iW.keti = "केटी ",
        iW.gf = "galfrenD",
        iW.GF = "galfrenD",
        iW.bf = "woiifrenD",
        iW.BF = "woiifrenD",
        iW.love = "law",
        iW.Love = "law",
        iW.romance = "romaansa",
        iW.Romance = "romaansa",
        iW.kiss = "kis",
        iW.Kiss = "kis",
        iW.kissing = "kising",
        iW.Kissssing = "kising",
        iW.sabailai = "sabailaai",
        iW.timilai = "timilaai",
        iW.timlai = "timlaai",
        iW.tapailai = "tapaai*laai",
        iW.tapai = "tapaai",
        iW.timiharulai = "timiharulaai",
        iW.uhalai = "uhaa*laai",
        iW.uhaharulai = "uhaa*harulaai",
        iW.hamilai = "haamilaai",
        iW.unlai = "unlaai",
        iW.unilai = "unilaai",
        iW.kaslai = "kaslaai",
        iW.sathilai = "saathilaai",
        iW.lai = "laai",
        iW.class = "claas",
        iW.kxa = "kechha",
        iW.photo = "phoTo",
        iW.Photo = "phoTo",
        iW.picture = "pikchar",
        iW.Picture = "pikchar",
        iW.albam = "elbam",
        iW.Albam = "elbam",
        iW.nai = "naai",
        iW.najane = "najaane",
        iW.jane = "jaane",
        iW.vetne = "bheTne",
        iW.nabhetne = "nabheTne",
        iW.bhetne = "bheTne",
        iW.navetne = "nabheTne",
        iW.van = "bhan",
        iW.family = "phemli",
        iW.acharya = "achaarya",
        iW.kahani = "काहानी",
        iW.katha = "kathaa",
        iW.joke = "jok",
        iW.Joke = "jok",
        iW.jokes = "joksa",
        iW.Jokes = "joksa",
        iW.status = "sTaaTas",
        iW.Status = "sTaaTas",
        iW.quotes = "koTsa",
        iW.Quotes = "koTsa",
        iW.exam = "ikjyaam",
        iW.Exam = "ikjyaam",
        iW.study = "sTaDi",
        iW.Study = "StaDi",
        iW.vanam = "bhanam",
        iW.uta = "utaa",
        iW.kata = "kataa",
        iW.bata = "baaTa",
        iW.aryal = "aryaal",
        iW.Aryal = "aryaal",
        iW.biralo = "biraalo",
        iW.sirani = "सिरानी",
        iW.krishnaa = "kriSHNaa",
        iW.Krishnaa = "kriSHNaa",
        iW.krishna = "kriSHNa",
        iW.Krishna = "kriSHNa",
        iW.kharani = "खरानी",
        iW.sirani = "सिरानी",
        iW.yata = "etaa",
        iW.eta = "etaa",
        iW.rastiyata = "raaShTreeyataa",
        iW.rastriyata = "raaShTreeyataa",
        iW.shreekrishna = "shreekriSHNa",
        iW.sharadhanjali = "shraddhaa*jalee",
        iW.sanchalan = "sanchaalaan",
        iW.antarastiya = "अन्तराट्रिय ",
        iW.rastiya = "राट्रिय",
        iW.lamo = "laamo",
        iW.santi = "saanti",
        iW.stock = "sTak",
        iW.rat = "raat",
        iW.kitab = "kitaab",
        iW.bisab = "pisaab",
        iW.disha = "dishaa",
        iW.nepali = "नेपाली ",
        iW.Nepali = "नेपाली ",
        iW.india = "inDiyaa",
        iW.India = "inDiyaa ",
        iW.Birgunj = "beeraga*ja",
        iW.birgunj = "beeraga*ja",
        iW.Janakpur = "janakapur",
        iW.janakpur = "janakapur",
        iW.damai = "damaai",
        iW.batho = "baatho",
        iW.ghusaunu = "ghusaaunu",
        iW.vanda = "bhandaa",
        iW.lagauda = "lagaaudaa",
        iW.lagxa = "laagchha",
        iW.lagchha = "laagchha",
        iW.lagcha = "laagchha",
        iW.satta = "sattaa",
        iW.share = "seyar",
        iW.taja = "taaja",
        iW.sanibar = "sanibaar",
        iW.raja = "raajaa",
        iW.rajkumar = "raajakumaar",
        iW.sabdhan = "saabdhaan",
        iW.las = "laas",
        iW.masik = "maasik",
        iW.lakh = "laakh",
        iW.khana = "khaanaa",
        iW.palpa = "paalpaa",
        iW.Palpa = "paalpaa",
        iW.bichar = "bichaar",
        iW.rasta = "raaShTra",
        iW.rastapati = "raaShTrapati",
        iW.rato = "raato",
        iW.kalo = "kaalo",
        iW.dami = "daami",
        iW.daru = "daaru",
        iW.alu = "aalu",
        iW.pidalu = "piDaalu",
        iW.tama = "taama",
        iW.ama = "aamaa",
        iW.kan = "kaan",
        iW.nak = "naak",
        iW.aakha = "aa*khaa",
        iW.chak = "chaak",
        iW.hat = "haat",
        iW.mato = "maaTo",
        iW.daura = "daauraa",
        iW.thal = "thaaal",
        iW.kal = "kaal",
        iW.hal = "haal",
        iW.jan = "jaana",
        iW.talu = "taalu",
        iW.jadu = "jaadu",
        iW.samai = "samaai",
        iW.kamai = "kamaai",
        iW.adhai = "aDhaai",
        iW.adai = "aDaai",
        iW.ramai = "ramaai",
        iW.januhos = "jaanuhos",
        iW.janus = "jaanus",
        iW.ghas = "ghaas",
        iW.kath = "kaaTh ",
        iW.pass = "paas",
        iW.Pass = "paas",
        iW.Fail = "phel",
        iW.fail = "phel",
        iW.tara = "taaraa",
        iW.birani = "biraani",
        iW.Kandel = "ka*Del",
        iW.kandel = "ka*Del",
        iW.kaphle = "kaaphle",
        iW.kafle = "kaaphle",
        iW.Kaphle = "kaaphle",
        iW.Kafle = "kaaphle",
        iW.baja = "baajaa",
        iW.baburam = "baburaam",
        iW.janaki = "jaanaki",
        iW.dahal = "daahaal",
        iW.gaindakot = "gaiDaakoT",
        iW.gaindakot = "gaiDaakoT",
        iW.gaidakot = "gaiDaakoT",
        iW.gaidakot = "gaiDaakoT",
        iW.tala = "tal",
        iW.tal = "taal",
        iW.tara = "tar",
        iW.tar = "taar",
        iW.taraa = "taaraa",
        iW.bhat = "bhaat",
        iW.khat = "khaat",
        iW.khane = "khaane",
        iW.doctor = "DaakTar",
        iW.Doctor = "DaakTar",
        iW.kalpanik = "kaalpanik",
        iW.sachi = "saachi",
        iW.rana = "raanaa",
        iW.kaka = "kaakaa",
        iW.badal = "baadal",
        iW.nepal = "nepaal",
        iW.Nepal = "nepaal",
        iW.japan = "jaapan",
        iW.Japan = "jaapan",
        iW.qatar = "qataar",
        iW.Qatar = "qataar",
        iW.singapore = "singgaapur ",
        iW.Singapore = "singgaapur ",
        iW.dal = "daal",
        iW.dear = "Diyar",
        iW.Dear = "Diyar",
        iW.ramrai = "raamrai",
        iW.dinxa = "dinchha",
        iW.aauxa = "aauchha",
        iW.raju = "raaju",
        iW.kanxa = "kaanchhaa",
        iW.kanxi = "kaanchhi",
        iW.gauma = "gaaumaa",
        iW.chalexa = "chalechha",
        iW.pagal = "paagal",
        iW.pgl = "paagal",
        iW.lagexa = "laagechha",
        iW.manxe = "maanchhe",
        iW.cute = "cyuT",
        iW.Cute = "cyuT",
        iW.cutie = "cyuTi",
        iW.Cutie = "cyuTi",
        iW.handsome = "henDasam",
        iW.Handsome = "henDasam",
        iW.kali = "kaali",
        iW.kalika = "kaalikaa",
        iW.sankar = "sha*kar",
        iW.shankar = "sha*kar",
        iW.Sankar = "sha*kar",
        iW.Shankar = "sha*kar",
        iW.bhagwan = "bhagawaan",
        iW.xitai = "xitai",
        iW.xito = "chhiTo",
        iW.thito = "thiTo",
        iW.alu = "aalu",
        iW.pidalu = "piDaalu",
        iW.tama = "taama",
        iW.ama = "aamaa",
        iW.kan = "kaan",
        iW.nak = "naak",
        iW.aakha = "aa*khaa",
        iW.chak = "chaak",
        iW.hat = "haat",
        iW.mato = "maaTo",
        iW.achar = "achaar",
        iW.amilo = "अमिलो",
        iW.lado = "laaDo",
        iW.kta = "keTaa",
        iW.kti = "केटी ",
        iW.mama = "maamaa",
        iW.maiju = "maaiju",
        iW.bhauju = "bhaauju",
        iW.bhena = "bhenaa",
        iW.vena = "bhenaa",
        iW.bihana = "bihaan",
        iW.uthera = "uThera",
        iW.uthe = "uThe",
        iW.Sangharsa = "sa*gharsa",
        iW.sangharsa = "sa*gharsa",
        iW.uthnuparxa = "uThnuparchha",
        iW.uthnuparchha = "uThnuparchha",
        iW.padhera = "paDhera",
        iW.padhe = "paDhe",
        iW.Dhaulagiri = "dhaulaagiri",
        iW.dhaulagiri = "dhaulaagiri",
        iW.dhankuta = "dhanakuTaa",
        iW.dhankuta = "dhanakuTaa",
        iW.ludo = "luDoo",
        iW.Ludo = "luDoo",
        iW.krantikari = "krantikaaree",
        iW.patalo = "paatalo",
        iW.salary = "selari",
        iW.Salary = "selari",
        iW.batas = "bataas",
        iW.tas = "taas",
        iW.pat = "paat",
        iW.Apple = "eppal",
        iW.apple = "eppal",
        iW.phone = "phon",
        iW.Phone = "phon",
        iW.xaa = "chhaa",
        iW.krishi = "kriShi",
        iW.Krishi = "kriShi",
        iW.gyan = "gyaan",
        iW.rajbhandari = "paat",
        iW.rajbhandari = "raajabhanDaari",
        iW.Rajbhandari = "raajabhanDaari",
        iW.shah = "shaah",
        iW.Shah = "shaah",
        iW.shrestha = "श्रेष्ठ",
        iW.Shrestha = "श्रेष्ठ",
        iW.united = "yunaaiiTeD",
        iW.United = "yunaaiiTeD",
        iW.how = "haau",
        iW.How = "haau",
        iW.are = "aar",
        iW.Are = "aar",
        iW.you = "yu",
        iW.You = "yu",
        cR.ba = "2348",
        cR.bha = "2349",
        cR.ca = "2325",
        cR.cha = "2330",
        cR.chha = "2331",
        cR.Da = "2337",
        cR.da = "2342",
        cR.dha = "2343",
        cR.Dha = "2338",
        cR.fa = "2347",
        cR.ga = "2327",
        cR.gha = "2328",
        cR.gya = "2332+2381+2334",
        cR.ha = "2361",
        cR.ja = "2332",
        cR.jha = "2333",
        cR.ka = "2325",
        cR.kha = "2326",
        cR.ksha = "2325+2381+2359",
        cR.la = "2354",
        cR.ma = "2350",
        cR.Na = "2339",
        cR.na = "2344",
        cR.Nepala = "2344+2375+2346+2366+2354",
        cR.nga = "2329",
        cR.pa = "2346",
        cR.pha = "2347",
        cR.qa = "2325",
        cR.ra = "2352",
        cR.sa = "2360",
        cR.sha = "2358",
        cR.Sha = "2359",
        cR.ta = "2340",
        cR.Ta = "2335",
        cR.Tha = "2336",
        cR.tha = "2341",
        cR.va = "2357",
        cR.wa = "2357",
        cR.xa = "2325+2381+2360",
        cR.ya = "2351",
        cR.yna = "2334",
        cR.za = "2332",
        uD["*"] = "2306",
        uD["**"] = "2305",
        uD["."] = "2404",
        uD["\\"] = "2381",
        uD[0] = "2406",
        uD[1] = "2407",
        uD[2] = "2408",
        uD[3] = "2409",
        uD[4] = "2410",
        uD[5] = "2411",
        uD[6] = "2412",
        uD[7] = "2413",
        uD[8] = "2414",
        uD[9] = "2415",
        uD.a = "2309",
        uD.aa = "2310",
        uD.ai = "2320",
        uD.am = "2309+2381",
        uD.au = "2324",
        uD.aum = "2384",
        uD.e = "2319",
        uD.i = "2311",
        uD.ii = "2312",
        uD.o = "2323",
        uD.om = "2384",
        uD.oo = "2314",
        uD["ri^"] = "2381+2352+2367+",
        uD.rr = "2352+2381+8205",
        uD.rree = "2400",
        uD.rri = "2315",
        uD.u = "2313",
        cR) {
            uD[conso] || (uD[conso] = cR[conso]),
            uD[conso + "a"] || (uD[conso + "a"] = cR[conso] + "+2366");
            var consoMinusA = conso.substring(0, conso.length - 1)
              , consoVal = cR[conso];
            uD[consoMinusA + "i"] || (uD[consoMinusA + "i"] = consoVal + "+2367"),
            uD[consoMinusA + "ee"] || (uD[consoMinusA + "ee"] = consoVal + "+2368"),
            uD[consoMinusA + "u"] || (uD[consoMinusA + "u"] = consoVal + "+2369"),
            uD[consoMinusA + "oo"] || (uD[consoMinusA + "oo"] = consoVal + "+2370"),
            uD[consoMinusA + "ri"] || (uD[consoMinusA + "ri"] = consoVal + "+2371"),
            uD[consoMinusA + "e"] || (uD[consoMinusA + "e"] = consoVal + "+2375"),
            uD[consoMinusA + "ai"] || (uD[consoMinusA + "ai"] = consoVal + "+2376"),
            uD[consoMinusA + "o"] || (uD[consoMinusA + "o"] = consoVal + "+2379"),
            uD[consoMinusA + "au"] || (uD[consoMinusA + "au"] = consoVal + "+2380"),
            uD[consoMinusA] || (uD[consoMinusA] = consoVal + "+2381")
        }
        
        function clearContent() {
            document.getElementById("roman").value = "",
            document.getElementById("unicode_text").value = "";
            updateStats();
        }
        
        function convertLive(flag) {
            if (flag) {
                if (1500 < Form1.ascii.value.length)
                    return alert("The text is too large for live conversion. Please press the 'Convert' button."),
                    Form1.convertItLive[1].checked = !0,
                    convertLive(!1);
                Form1.convertNow.disabled = !0,
                translate(Form1.ascii, Form1.unicode, eval(Form1.htmlEncode.value), Form1.smartConverter_.checked),
                liveConversion = !0
            } else
                Form1.convertNow.disabled = !1,
                liveConversion = !1
        }
        
        function convert() {
            1 == liveConversion && Form1.ascii.value.length <= 1500 ? translate(Form1.ascii, Form1.unicode, eval(Form1.htmlEncode.value), Form1.smartConverter_.checked) : 1 == liveConversion && 1500 < Form1.ascii.value.length && convertLive(!0)
        }
        
        function copyUnicode(a) {
            doCopying(document.getElementById("unicode_text"), a)
        }
        
        function doCopying(a, i) {
            a.select(),
            a.setSelectionRange(0, 99999),
            document.execCommand("copy"),
            i.target.innerHTML = "Copied &#10003;",
            setTimeout(function() {
                i.target.innerHTML = "Copy"
            }, 3e3)
        }
        
        // Update character, word, and line counts
        function updateStats() {
            const text = document.getElementById("roman").value;
            
            // Character count
            document.getElementById("char-count").textContent = text.length;
            
            // Word count
            const words = text.trim().split(/\s+/).filter(word => word.length > 0);
            document.getElementById("word-count").textContent = words.length;
            
            // Line count
            const lines = text.split('\n').length;
            document.getElementById("line-count").textContent = lines;
        }
        
        // Update stats when typing
        document.getElementById("roman").addEventListener('input', updateStats);
        
        // Download as file function
        function downloadAsFile(format) {
            const text = document.getElementById('unicode_text').value;
            let filename = 'nepali-conversion.';
            
            if (format === 'txt') {
                filename += 'txt';
            }
            
            const element = document.createElement('a');
            element.setAttribute('href', 'text/plain;charset=utf-8,' + encodeURIComponent(text));
            element.setAttribute('download', filename);
            element.style.display = 'none';
            document.body.appendChild(element);
            element.click();
            document.body.removeChild(element);
        }
        
        // Save to history
        function saveToHistory() {
          const romanText = document.getElementById("roman").value;
          if (romanText.trim()) {
            const snapshot = {
              timestamp: new Date().toLocaleString(),
              romanText: romanText,
              unicodeText: document.getElementById("unicode_text").value,
              stats: {
                chars: document.getElementById("char-count").textContent,
                words: document.getElementById("word-count").textContent,
                lines: document.getElementById("line-count").textContent
              }
            };
            
            editHistory.unshift(snapshot);
            
            // Limit history to 10 items
            if (editHistory.length > 10) {
              editHistory = editHistory.slice(0, 10);
            }
            
            // Save to localStorage
            localStorage.setItem('nepaliHistory', JSON.stringify(editHistory));
            renderHistoryList();
          }
        }
        
        // Render history list
        function renderHistoryList() {
          const historyList = document.getElementById('history-list');
          historyList.innerHTML = '';
          
          editHistory.forEach((item, index) => {
            const historyItem = document.createElement('div');
            historyItem.className = 'history-item';
            
            historyItem.innerHTML = `
              <span>${item.timestamp}</span>
              <div class="history-actions">
                <button class="history-btn" onclick="loadFromHistory(${index})">
                  <i class="fas fa-sync-alt"></i> Load
                </button>
                <button class="history-btn" onclick="deleteHistoryItem(${index})">
                  <i class="fas fa-trash"></i> Delete
                </button>
              </div>
            `;
            
            historyList.appendChild(historyItem);
          });
        }
        
        // Load from history
        function loadFromHistory(index) {
          const item = editHistory[index];
          if (item) {
            document.getElementById("roman").value = item.romanText;
            document.getElementById("unicode_text").value = item.unicodeText;
            
            // Update stats
            document.getElementById("char-count").textContent = item.stats.chars;
            document.getElementById("word-count").textContent = item.stats.words;
            document.getElementById("line-count").textContent = item.stats.lines;
            
            // Trigger conversion
            convert();
          }
        }
        
        // Delete history item
        function deleteHistoryItem(index) {
          editHistory.splice(index, 1);
          localStorage.setItem('nepaliHistory', JSON.stringify(editHistory));
          renderHistoryList();
        }
        
        cR = null,
        smartConverter(!0),
        translate(Form1.ascii, Form1.unicode, eval(Form1.htmlEncode.value), Form1.smartConverter_.checked),
        Form1.ascii.focus(),
        convertLive(!0);
        
        // Section switching functionality
        function showSection(sectionId) {
          // Hide all sections
          document.querySelectorAll('.section').forEach(section => {
            section.classList.remove('active');
          });
          
          // Show selected section
          document.getElementById(sectionId).classList.add('active');
          
          // Update active nav link
          document.querySelectorAll('.nav-link').forEach(link => {
            link.classList.remove('active');
          });
          
          // Find the clicked link and make it active
          const clickedLink = event.target;
          clickedLink.classList.add('active');
        }
        
        // Initialize stats and history on page load
        window.onload = function() {
          updateStats();
          renderHistoryList();
        };
    </script>
</body>
</html>